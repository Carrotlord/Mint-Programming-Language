<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<link rel="stylesheet" type="text/css" href="../css/styles.css">
<title>Control Flow</title>
</head>

<body>

<div class="center">
<span class="lesson_title">Functions</span><br />
<span class="subtitle">Fundamental Subprograms</span>
</div>
<br>
<table class="main"><tr><td>
<span class="section_title">Defining Functions</span><br>
To define a function, use the keyword <code>sub</code>, followed by a space and the name of the function, and then comma-separated arguments surrounded in parentheses:

<table class="width_down"><tr><td>
<pre class="mint_code_box"><span class="keyword">sub</span> square(x)
    <span class="keyword">return</span> x ^ <span class="number2">2</span>
<span class="keyword">end</span>

<span class="keyword">sub</span> max(x, y)
    <span class="keyword">when</span> x > y
        <span class="keyword">return</span> x
    <span class="keyword">return</span> y
<span class="keyword">end</span>

<span class="keyword">print</span> max(<span class="number2">60</span>, square(<span class="number2">30</span>))    <span class="comment2">// Prints 900</span></pre>
</td></tr></table>
<code>sub</code> stands for "subprogram".<br><br>

To define a single line function in Mint, assign to what appears to be a function call. This is essentially the same as in mathematical notation.<br>
<table class="width_down"><tr><td>
<pre class="mint_code_box">
f(x) = x + <span class="number2">1</span>
g(x) = x^<span class="number2">2</span> + <span class="number2">3</span>
h(x) = f(x) + g(f(x))

<span class="keyword">print</span> f(<span class="number2">70</span>)    <span class="comment2">// Prints 71</span>
<span class="keyword">print</span> g(<span class="number2">10</span>)    <span class="comment2">// Prints 103</span>
<span class="keyword">print</span> h(<span class="number2">-1</span>)    <span class="comment2">// Prints 3</span></pre>
</td></tr></table>
<br>
Function in Mint are first class, meaning they can be passed around like ordinary objects. It is possible to nest functions inside each other and return a function from another function.<br>

<table class="width_down"><tr><td>
<pre class="mint_code_box"><span class="keyword">sub</span> compose(f, g)
    <span class="keyword">sub</span> composedFunction(x)
        <span class="keyword">return</span> f(g(x))
    <span class="keyword">end</span>
    <span class="keyword">return</span> composedFunction
<span class="keyword">end</span>

a(t) = t ^ <span class="number2">3</span>
b(t) = <span class="number2">2</span> / t

y = compose(b, a)
w = compose(a, b)
<span class="keyword">print</span> y(<span class="number2">2</span>)    <span class="comment2">// Prints 0.25</span>
<span class="keyword">print</span> w(<span class="number2">2</span>)    <span class="comment2">// Prints 1.0</span></pre>
</td></tr></table><br>

You can use first class functions to implement numerical differentiation and integration where you have the convenience of having a derivative or antiderivative function returned to you.

<table class="width_down"><tr><td>
<pre class="mint_code_box"><span class="keyword">sub</span> differentiate(f)
    <span class="keyword">sub</span> fPrime(x)
        dx = <span class="number2">0.00000001</span>
        df = f(x + dx) - f(x)
        <span class="keyword">return</span> df / dx
    <span class="keyword">end</span>
    <span class="keyword">return</span> fPrime
<span class="keyword">end</span>

<span class="keyword">sub</span> integrate(f, constant)
    <span class="keyword">sub</span> evaluateIntegral(a, b)
        dx = (b - a) / <span class="number2">10000</span>
        area = <span class="number2">0</span>
        <span class="keyword">for</span> x = a; x &lt; b; x += dx
            area += f(x) * dx
        <span class="keyword">end</span>
        <span class="keyword">return</span> area + constant
    <span class="keyword">end</span>
    <span class="keyword">return</span> evaluateIntegral
<span class="keyword">end</span>

g(x) = <span class="number2">1</span> / (<span class="number2">16</span> * x)
f(x) = x^<span class="number2">7</span> + x^<span class="number2">2</span>

gPrime = differentiate(g)
<span class="comment2">/* The following prints -0.44444443125790656
 * where -0.4444444444444444 is the actual answer. */</span>
<span class="keyword">print</span> gPrime(<span class="number2">0.375</span>)    <span class="comment2">// The derivative of g(x) evaluated at x=0.375</span>
fIntegral = integrate(f, <span class="number2">0</span>)
<span class="comment2">/* The following prints 34.67986817331237
 * where 34.66666666666666 is the actual answer. */</span>
<span class="keyword">print</span> fIntegral(<span class="number2">0</span>, <span class="number2">2</span>)  <span class="comment2">// The integral of f(x) evaluated with bounds a=0, b=2</span></pre>
</td></tr></table><br>

Functions also support recursion.
<table class="width_down"><tr><td>
<pre class="mint_code_box"><span class="keyword">sub</span> fibonacci(n)
    <span class="keyword">when</span> n &lt;= <span class="number2">1</span>
        <span class="keyword">return</span> n
    <span class="keyword">return</span> fibonacci(n - <span class="number2">1</span>) + fibonacci(n - <span class="number2">2</span>)
<span class="keyword">end</span>

<span class="keyword">sub</span> ackermann(m, n)
    <span class="keyword">if</span> m == <span class="number2">0</span>
        <span class="keyword">return</span> n + <span class="number2">1</span>
    <span class="keyword">else if</span> m &gt; <span class="number2">0</span> <span class="keyword">and</span> n == <span class="number2">0</span>
        <span class="keyword">return</span> ackermann(m - <span class="number2">1</span>, <span class="number2">1</span>)
    <span class="keyword">else</span>
        <span class="keyword">return</span> ackermann(m - <span class="number2">1</span>, ackermann(m, n - <span class="number2">1</span>))
    <span class="keyword">end</span>
<span class="keyword">end</span></pre>
</td></tr></table><br>

<span class="nav">Quick Navigation</span><br>
Previous Lesson: <a href="lists_arrays.html">Lists and Arrays</a><br>
Next Lesson: <a href="tables.html">Tables</a><br>

<br><br>
</td></tr></table>
<br><br><br>

</html>